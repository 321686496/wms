import{b as N,d as S,c as L}from"./order-c813a367.js";import{u}from"./useHandleData-6ee70150.js";import{u as e,r as q,a as O}from"./index-16b2bfc2.js";import{o as f,C as b,q as n,t as z,M as A,v as o,w as t,K as P,L as d,x as s,a2 as p}from"./vendor-7d8626b5.js";const R={class:"table-box"},V=["onClick"],W=f({name:"base_order_merge"}),K=f({...W,setup($){const h=e("base.order"),c=b(),w=b([{type:"selection",fixed:"left",width:60},{prop:"operation",label:e("common.operate"),width:180},{prop:"billDate",label:e("common.billDate"),minWidth:120},{prop:"billCode",label:e("common.billCode"),minWidth:130,search:{el:"input"}},{prop:"createAdminName",minWidth:150,label:e("common.createName")}]),y=a=>{q.push({path:"/base/order/mergeDetail",query:{id:a.id}})},g=async a=>{await u(S,{id:a.id||0},e("common.delete")),c.value.getTableList()},C=async a=>{try{const l=await u(L,{ids:a},e("common.delete"));c.value.getTableList(),c.value.clearSelection(),l.status===0&&O(l.data)}catch{}},v=(a,l)=>{switch(a){case"delete":C(l.map(i=>i.id||0));break}};return(a,l)=>{const i=n("arrow-down"),k=n("el-icon"),m=n("el-button"),T=n("el-dropdown-menu"),D=n("el-dropdown"),x=n("el-space"),B=n("ProTable");return z(),A("div",R,[o(B,{ref_key:"proTable",ref:c,colSettingType:"base_order_merge",title:s(h),columns:w.value,initParam:{isMerge:!0},requestApi:s(N),showSummary:""},{tableHeader:t(r=>[o(x,null,{default:t(()=>[o(D,{disabled:!r.isSelected,size:"default"},{dropdown:t(()=>[o(T,null,{default:t(()=>[P("div",{class:"dropdown-item",onClick:_=>v("delete",r.selectedList)},d(s(e)("common.delete")),9,V)]),_:2},1024)]),default:t(()=>[o(m,{type:"primary",disabled:!r.isSelected},{default:t(()=>[p(d(s(e)("common.batch")),1),o(k,{class:"el-icon--right"},{default:t(()=>[o(i)]),_:1})]),_:2},1032,["disabled"])]),_:2},1032,["disabled"])]),_:2},1024)]),operation:t(r=>[o(m,{type:"primary",size:"small",onClick:_=>y(r.row)},{default:t(()=>[p(d(s(e)("common.detail")),1)]),_:2},1032,["onClick"]),o(m,{type:"danger",size:"small",onClick:_=>g(r.row)},{default:t(()=>[p(d(s(e)("common.delete")),1)]),_:2},1032,["onClick"])]),_:1},8,["title","columns","requestApi"])])}}});export{K as default};
