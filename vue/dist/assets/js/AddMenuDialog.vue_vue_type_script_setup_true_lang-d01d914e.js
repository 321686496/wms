import{o as K,C as p,q as r,t as w,u as I,w as t,K as S,v as a,a2 as _,M as R,P as N,O as $,x as h,L as O,_ as v,$ as b,E as j}from"./vendor-7d8626b5.js";import{A as z,u as G}from"./index-16b2bfc2.js";import{a as J}from"./select-d4c05a16.js";var F=(i=>(i.\u76EE\u5F55="Catalogue",i.\u83DC\u5355="Menu",i.\u6309\u94AE="Button",i))(F||{});const Q={class:"dialog-footer"},ee=K({__name:"AddMenuDialog",setup(i,{expose:A}){const f=p(!1);let C={pid:0,menuType:F.\u83DC\u5355,path:"",appletPath:"",appletMetaIcon:"",appletMetaIsHide:!1,name:"",redirect:"",component:"",metaIcon:"",metaActiveMenu:"",metaIsLink:!1,metaIsHide:!1,metaIsFull:!1,metaIsAffix:!1,metaIsKeepAlive:!1,enable:!0,modules:"",perms:"",priority:0};const l=p({title:"",formType:"add",rowData:C}),V=p(),T=z(F),g=p([]),U=p({menuType:[{required:!0,message:"\u8BF7\u9009\u62E9\u83DC\u5355\u7C7B\u578B",trigger:"blur"}],perms:[{required:!0,message:"\u8BF7\u8F93\u5165\u6743\u9650\u6807\u8BC6",trigger:"blur"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u83DC\u5355\u522B\u540D",trigger:"blur"}],modules:[{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5C5E\u6A21\u5757",trigger:"blur"}]}),D=p(!1),k=()=>{V.value&&V.value.validate(async n=>{if(n){D.value=!0;const e=l.value.rowData;l.value.api(e).then(c=>{c.status===0&&(j.success({message:l.value.title+"\u6210\u529F"}),D.value=!1,l.value.getTableList&&l.value.getTableList(),f.value=!1)}).finally(()=>{D.value=!1})}})},B=n=>(n.forEach(e=>{e.label=G(`menu.${e.label}`),e.children&&e.children.length&&(e.children=B(e.children))}),n),x=()=>{J().then(n=>{g.value=B(n.data)})};return A({acceptParams:n=>{x(),n.rowData=n.formType==="add"?{...C}:n.rowData,l.value=n,f.value=!0}}),(n,e)=>{const c=r("el-cascader"),o=r("el-form-item"),L=r("el-radio-button"),M=r("el-radio-group"),s=r("el-input"),q=r("el-input-number"),m=r("el-switch"),d=r("el-col"),E=r("el-row"),P=r("el-form"),y=r("el-button"),H=r("el-dialog");return w(),I(H,{modelValue:f.value,"onUpdate:modelValue":e[16]||(e[16]=u=>f.value=u),"close-on-click-modal":!1,title:"\u65B0\u589E\u83DC\u5355",width:"520px",draggable:""},{footer:t(()=>[S("span",Q,[a(y,{onClick:e[15]||(e[15]=u=>f.value=!1),disabled:D.value},{default:t(()=>[_("\u53D6\u6D88")]),_:1},8,["disabled"]),a(y,{type:"primary",loading:D.value,onClick:k},{default:t(()=>[_(" \u63D0\u4EA4 ")]),_:1},8,["loading"])])]),default:t(()=>[a(P,{ref_key:"menuFormRef",ref:V,model:l.value.rowData,rules:U.value,"label-width":"110px"},{default:t(()=>[a(o,{label:"\u7236\u7EA7\u83DC\u5355",prop:"pid"},{default:t(()=>[a(c,{style:{width:"100%"},modelValue:l.value.rowData.pid,"onUpdate:modelValue":e[0]||(e[0]=u=>l.value.rowData.pid=u),options:g.value,placeholder:"\u7236\u7EA7\u83DC\u5355",filterable:"",clearable:"",props:{checkStrictly:!0,emitPath:!1}},null,8,["modelValue","options"])]),_:1}),a(o,{label:"\u83DC\u5355\u7C7B\u578B",prop:"menuType"},{default:t(()=>[a(M,{modelValue:l.value.rowData.menuType,"onUpdate:modelValue":e[1]||(e[1]=u=>l.value.rowData.menuType=u)},{default:t(()=>[(w(!0),R(N,null,$(h(T),u=>(w(),I(L,{key:u.value,label:u.value},{default:t(()=>[_(O(u.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(o,{label:"\u6743\u9650\u6807\u8BC6",prop:"perms"},{default:t(()=>[a(s,{modelValue:l.value.rowData.perms,"onUpdate:modelValue":e[2]||(e[2]=u=>l.value.rowData.perms=u),placeholder:"\u6743\u9650\u6807\u8BC6",clearable:""},null,8,["modelValue"])]),_:1}),a(o,{label:"\u83DC\u5355\u522B\u540D",prop:"name"},{default:t(()=>[a(s,{modelValue:l.value.rowData.name,"onUpdate:modelValue":e[3]||(e[3]=u=>l.value.rowData.name=u),placeholder:"\u83DC\u5355\u522B\u540D",clearable:""},null,8,["modelValue"])]),_:1}),v(a(o,{label:"\u83DC\u5355\u8DEF\u5F84",prop:"path"},{default:t(()=>[a(s,{modelValue:l.value.rowData.path,"onUpdate:modelValue":e[4]||(e[4]=u=>l.value.rowData.path=u),placeholder:"\u83DC\u5355\u8DEF\u5F84",clearable:""},null,8,["modelValue"])]),_:1},512),[[b,!["Button"].includes(l.value.rowData.menuType)]]),v(a(o,{label:"\u91CD\u5B9A\u5411\u8DEF\u5F84",prop:"redirect"},{default:t(()=>[a(s,{modelValue:l.value.rowData.redirect,"onUpdate:modelValue":e[5]||(e[5]=u=>l.value.rowData.redirect=u),placeholder:"\u91CD\u5B9A\u5411\u8DEF\u5F84",clearable:""},null,8,["modelValue"])]),_:1},512),[[b,!["Button"].includes(l.value.rowData.menuType)]]),v(a(o,{label:"\u6587\u4EF6\u8DEF\u5F84",prop:"component"},{default:t(()=>[a(s,{modelValue:l.value.rowData.component,"onUpdate:modelValue":e[6]||(e[6]=u=>l.value.rowData.component=u),placeholder:"\u89C6\u56FE\u6587\u4EF6\u8DEF\u5F84",clearable:""},null,8,["modelValue"])]),_:1},512),[[b,!["Button"].includes(l.value.rowData.menuType)]]),v(a(o,{label:"\u83DC\u5355\u56FE\u6807",prop:"metaIcon"},{default:t(()=>[a(s,{modelValue:l.value.rowData.metaIcon,"onUpdate:modelValue":e[7]||(e[7]=u=>l.value.rowData.metaIcon=u),placeholder:"\u83DC\u5355\u56FE\u6807",clearable:""},null,8,["modelValue"])]),_:1},512),[[b,!["Button"].includes(l.value.rowData.menuType)]]),a(o,{label:"\u6392\u5E8F\u503C",prop:"priority"},{default:t(()=>[a(q,{style:{width:"100%"},precision:0,controls:!1,min:0,modelValue:l.value.rowData.priority,"onUpdate:modelValue":e[8]||(e[8]=u=>l.value.rowData.priority=u),placeholder:"\u6392\u5E8F\u503C",clearable:""},null,8,["modelValue"])]),_:1}),a(E,null,{default:t(()=>[a(d,{span:12},{default:t(()=>[a(o,{label:"\u662F\u5426\u542F\u7528",prop:"enable"},{default:t(()=>[a(m,{modelValue:l.value.rowData.enable,"onUpdate:modelValue":e[9]||(e[9]=u=>l.value.rowData.enable=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12},{default:t(()=>[a(o,{label:"\u662F\u5426\u9690\u85CF",prop:"metaIsHide"},{default:t(()=>[a(m,{modelValue:l.value.rowData.metaIsHide,"onUpdate:modelValue":e[10]||(e[10]=u=>l.value.rowData.metaIsHide=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),v(a(E,null,{default:t(()=>[a(d,{span:12},{default:t(()=>[a(o,{label:"\u662F\u5426\u5916\u94FE",prop:"metaIsLink"},{default:t(()=>[a(m,{modelValue:l.value.rowData.metaIsLink,"onUpdate:modelValue":e[11]||(e[11]=u=>l.value.rowData.metaIsLink=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12},{default:t(()=>[a(o,{label:"\u662F\u5426\u5168\u5C4F",prop:"metaIsFull"},{default:t(()=>[a(m,{modelValue:l.value.rowData.metaIsFull,"onUpdate:modelValue":e[12]||(e[12]=u=>l.value.rowData.metaIsFull=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12},{default:t(()=>[a(o,{label:"\u662F\u5426\u56FA\u5B9A\u9875\u7B7E",prop:"metaIsAffix"},{default:t(()=>[a(m,{modelValue:l.value.rowData.metaIsAffix,"onUpdate:modelValue":e[13]||(e[13]=u=>l.value.rowData.metaIsAffix=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12},{default:t(()=>[a(o,{label:"\u662F\u5426\u7F13\u5B58",prop:"metaIsKeepAlive"},{default:t(()=>[a(m,{modelValue:l.value.rowData.metaIsKeepAlive,"onUpdate:modelValue":e[14]||(e[14]=u=>l.value.rowData.metaIsKeepAlive=u)},null,8,["modelValue"])]),_:1})]),_:1}),a(d,{span:12})]),_:1},512),[[b,!["Button"].includes(l.value.rowData.menuType)]])]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])}}});export{F as M,ee as _};
